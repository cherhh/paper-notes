我记得这玩意有两种模式，一种就是当扩展的内存，但是你这个价格对吧。。和普通内存差不了多少，但是延迟和带宽完全比不了DRAM。另一种叫app-direct模式，在这个模式下可以用ndctl去把它搞成devdax，fsdax等四种模式，但是基本上大家用的都是fsdax模式。

在fsdax模式下，需要一个针对pmem的内核文件系统才能实现这个东西的DAX访问。目前内核里带的就是ext4-dax和xfs-dax。这么多年学术圈炒了几十个pmem的文件系统 你看哪一个真正敢有企业在用。从16年的NOVA到最近OSDI22的odinfs，反正我是没看到有人在production上用的。这东西要改内核（至少是插入内核模块，有的要重新编译内核），稳定性可靠性啥的都是大问题。

另一方面关于devdax，它允许你能不通过内核文件系统去DAX访问它。用法很简单，open它，mmap它，就可以用了。21年FAST上有一篇ctFS，这个东西除了它新的syscall pswap是基本上所有东西全在用户态的。且不说这东西几乎没有安全性的问题，这东西我本地跑就根本没法复现它的性能，debug的过程中还很容易导致内核崩溃…（我太菜了x）。

别的应用的话 NVM上的LSMtree，B+tree之类的做数据库已经快做烂了，好多人都在搞。而且好像工业界用也是这样用的。

想起来在MSRA实习的时候一个mentor所说…【就把它当slow memory看就完了，没什么好做的】（x。但是看起来MSRA我附近的几个组对这玩意兴趣不大，我们当时测cross NUMA的性能的时候都没考虑它。

所以总结一下就是…（1）傲腾本身太贵；（2）配套的cpu啥的太贵；（3）定位很模糊；（4）PM文件系统不完善，工业界没人用；用都是当内存/buffer在用或者跑数据库…